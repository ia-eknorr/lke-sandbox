external-secrets:
  installCRDs: true

  # Disable webhook - LKE's managed control plane cannot reach ClusterIP services
  webhook:
    create: false
    port: 9443

  # Disable cert-controller (only needed for webhook TLS)
  certController:
    create: false

  serviceAccount:
    create: true
    name: external-secrets

infisical:
  clientId: ""
  clientSecret: ""

# ClusterSecretStore uses helm.sh/hook to defer until CRDs exist
clusterSecretStore:
  enabled: true
  name: infisical
  infisicalUrl: "http://infisical-upstream.infisical.svc.cluster.local:8080"

  secretRef:
    name: infisical-machine-identity
    namespace: external-secrets
    clientIdKey: clientId
    clientSecretKey: clientSecret

  secretsScope:
    projectSlug: ""
    environmentSlug: ""
    secretsPath: "/"
